{"version":3,"sources":["../../../src/tools/knowledge/knowledge.tool.ts"],"sourcesContent":["import { DynamicStructuredTool } from '@langchain/core/tools';\r\nimport { z } from 'zod';\r\nimport { VectorSearchService } from '../../vector-search/vector-search.service';\r\n\r\nexport function createKnowledgeTool(\r\n  vectorSearchService: VectorSearchService,\r\n): DynamicStructuredTool {\r\n  return new DynamicStructuredTool({\r\n    name: 'search_knowledge',\r\n    description:\r\n      'Searches the knowledge base for relevant articles, documentation, and solutions using semantic vector search. Returns top matching documents with titles and content excerpts.',\r\n    schema: z.object({\r\n      query: z\r\n        .string()\r\n        .describe(\r\n          'The search query to find relevant knowledge base documentation',\r\n        ),\r\n    }),\r\n    func: async ({ query }) => {\r\n      const results = await vectorSearchService.search(query, 3);\r\n      return JSON.stringify(results, null, 2);\r\n    },\r\n  });\r\n}\r\n"],"names":["createKnowledgeTool","vectorSearchService","DynamicStructuredTool","name","description","schema","z","object","query","string","describe","func","results","search","JSON","stringify"],"mappings":";;;;+BAIgBA;;;eAAAA;;;uBAJsB;qBACpB;AAGX,SAASA,oBACdC,mBAAwC;IAExC,OAAO,IAAIC,4BAAqB,CAAC;QAC/BC,MAAM;QACNC,aACE;QACFC,QAAQC,MAAC,CAACC,MAAM,CAAC;YACfC,OAAOF,MAAC,CACLG,MAAM,GACNC,QAAQ,CACP;QAEN;QACAC,MAAM,OAAO,EAAEH,KAAK,EAAE;YACpB,MAAMI,UAAU,MAAMX,oBAAoBY,MAAM,CAACL,OAAO;YACxD,OAAOM,KAAKC,SAAS,CAACH,SAAS,MAAM;QACvC;IACF;AACF"}