{"version":3,"sources":["../../../src/tools/classification/classification.tool.ts"],"sourcesContent":["import { DynamicStructuredTool } from '@langchain/core/tools';\r\nimport { z } from 'zod';\r\nimport { ClassificationService } from './classification.service';\r\n\r\nexport function createClassificationTool(\r\n  classificationService: ClassificationService,\r\n): DynamicStructuredTool {\r\n  return new DynamicStructuredTool({\r\n    name: 'classify_ticket',\r\n    description:\r\n      'Classifies a support ticket into category, priority, and routing team. Use this FIRST for every ticket analysis.',\r\n    schema: z.object({\r\n      ticket_text: z\r\n        .string()\r\n        .describe('The support ticket text to classify'),\r\n    }),\r\n    func: async ({ ticket_text }) => {\r\n      return classificationService.classify(ticket_text);\r\n    },\r\n  });\r\n}\r\n"],"names":["createClassificationTool","classificationService","DynamicStructuredTool","name","description","schema","z","object","ticket_text","string","describe","func","classify"],"mappings":";;;;+BAIgBA;;;eAAAA;;;uBAJsB;qBACpB;AAGX,SAASA,yBACdC,qBAA4C;IAE5C,OAAO,IAAIC,4BAAqB,CAAC;QAC/BC,MAAM;QACNC,aACE;QACFC,QAAQC,MAAC,CAACC,MAAM,CAAC;YACfC,aAAaF,MAAC,CACXG,MAAM,GACNC,QAAQ,CAAC;QACd;QACAC,MAAM,OAAO,EAAEH,WAAW,EAAE;YAC1B,OAAOP,sBAAsBW,QAAQ,CAACJ;QACxC;IACF;AACF"}