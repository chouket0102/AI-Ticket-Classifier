{"version":3,"sources":["../../../src/tools/extraction/extraction.tool.ts"],"sourcesContent":["import { DynamicStructuredTool } from '@langchain/core/tools';\r\nimport { z } from 'zod';\r\nimport { ExtractionService } from './extraction.service';\r\n\r\nexport function createExtractionTool(\r\n  extractionService: ExtractionService,\r\n): DynamicStructuredTool {\r\n  return new DynamicStructuredTool({\r\n    name: 'extract_metadata',\r\n    description:\r\n      'Extracts detailed metadata from a support ticket including priority score, urgency level, affected systems, technical keywords, user impact, and escalation requirements. Use after classification.',\r\n    schema: z.object({\r\n      ticket_text: z\r\n        .string()\r\n        .describe('The support ticket text to extract metadata from'),\r\n    }),\r\n    func: async ({ ticket_text }) => {\r\n      return extractionService.extract(ticket_text);\r\n    },\r\n  });\r\n}\r\n"],"names":["createExtractionTool","extractionService","DynamicStructuredTool","name","description","schema","z","object","ticket_text","string","describe","func","extract"],"mappings":";;;;+BAIgBA;;;eAAAA;;;uBAJsB;qBACpB;AAGX,SAASA,qBACdC,iBAAoC;IAEpC,OAAO,IAAIC,4BAAqB,CAAC;QAC/BC,MAAM;QACNC,aACE;QACFC,QAAQC,MAAC,CAACC,MAAM,CAAC;YACfC,aAAaF,MAAC,CACXG,MAAM,GACNC,QAAQ,CAAC;QACd;QACAC,MAAM,OAAO,EAAEH,WAAW,EAAE;YAC1B,OAAOP,kBAAkBW,OAAO,CAACJ;QACnC;IACF;AACF"}