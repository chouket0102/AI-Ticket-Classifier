{"version":3,"sources":["../../../src/agent/memory/memory.ts"],"sourcesContent":["import { PostgresSaver } from '@langchain/langgraph-checkpoint-postgres';\r\nimport * as dotenv from 'dotenv';\r\n\r\nif (process.env.NODE_ENV !== 'test') {\r\n  dotenv.config();\r\n}\r\n\r\n/**\r\n * Creates a PostgresSaver instance using environment variables\r\n * @returns PostgresSaver instance\r\n */\r\nexport function createPostgresMemory(): PostgresSaver {\r\n  const host = process.env.DB_HOST || 'localhost';\r\n  const port = process.env.DB_PORT || '5433';\r\n  const username = process.env.DB_USERNAME || 'postgres';\r\n  const password = process.env.DB_PASSWORD || 'postgres';\r\n  const dbName = process.env.DB_NAME || 'agent_db';\r\n\r\n  const connectionString = `postgresql://${username}:${password}@${host}:${port}/${dbName}${\r\n    process.env.DB_SSLMODE ? `?sslmode=${process.env.DB_SSLMODE}` : ''\r\n  }`;\r\n\r\n  return PostgresSaver.fromConnString(connectionString);\r\n}\r\n\r\nexport const postgresCheckpointer = createPostgresMemory();\r\n"],"names":["createPostgresMemory","postgresCheckpointer","process","env","NODE_ENV","dotenv","config","host","DB_HOST","port","DB_PORT","username","DB_USERNAME","password","DB_PASSWORD","dbName","DB_NAME","connectionString","DB_SSLMODE","PostgresSaver","fromConnString"],"mappings":";;;;;;;;;;;QAWgBA;eAAAA;;QAcHC;eAAAA;;;6CAzBiB;gEACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAExB,IAAIC,QAAQC,GAAG,CAACC,QAAQ,KAAK,QAAQ;IACnCC,QAAOC,MAAM;AACf;AAMO,SAASN;IACd,MAAMO,OAAOL,QAAQC,GAAG,CAACK,OAAO,IAAI;IACpC,MAAMC,OAAOP,QAAQC,GAAG,CAACO,OAAO,IAAI;IACpC,MAAMC,WAAWT,QAAQC,GAAG,CAACS,WAAW,IAAI;IAC5C,MAAMC,WAAWX,QAAQC,GAAG,CAACW,WAAW,IAAI;IAC5C,MAAMC,SAASb,QAAQC,GAAG,CAACa,OAAO,IAAI;IAEtC,MAAMC,mBAAmB,CAAC,aAAa,EAAEN,SAAS,CAAC,EAAEE,SAAS,CAAC,EAAEN,KAAK,CAAC,EAAEE,KAAK,CAAC,EAAEM,SAC/Eb,QAAQC,GAAG,CAACe,UAAU,GAAG,CAAC,SAAS,EAAEhB,QAAQC,GAAG,CAACe,UAAU,EAAE,GAAG,IAChE;IAEF,OAAOC,0CAAa,CAACC,cAAc,CAACH;AACtC;AAEO,MAAMhB,uBAAuBD"}